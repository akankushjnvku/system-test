<?xml version="1.0"?>
<vespafeed>
<update documentid="id:banana:banana::complex" documenttype="banana">
  <assign fieldpath="colour">cafe latte</assign>
  <assign fieldpath="stringmap{&quot;foo1 \&quot;hel}lo\&quot;}&quot;}">raspeballer</assign>
  <assign fieldpath="stringmap{foo4}">new and shiny</assign>
  <assign where="banana.structarr[$x].bytearr[$y] == 7" fieldpath="structarr[$x].bytearr[$y]">3</assign>
  <assign fieldpath="structarr.bytearr[$x]" removeifzero="true">$value - 3</assign>
  <assign fieldpath="structmap{4}.mymap{foo}" createmissingpath="false">should not happen</assign>
  <assign fieldpath="structmap{5}.mymap{bar}" createmissingpath="true">happy hour</assign>
</update>
</vespafeed>
